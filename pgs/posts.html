<h2>
	Articoli recenti.
</h2>
<ol id="articles" class="">
	<li id="postsTemplate">
		<a><img class="thumbnailUrl"/></a>
		<a><h4 class="title"></h4></a>
	</li>
	
</ol>
<div id="preview" class="w3-row"></div>
<script>
	var drawList=function(data){
		//utilizzo i dati forniti con l'array data per compilare l'elenco dei post.
		for (var i=0;i<data.length;i++){
			var d = data[i]
			//creo, mediate jquery, un tag "a", imposto l'attributo href con l'id dell'elemento corrente e al suo interno inserisco il titolo 
			//var a=$('<a>').attr('href','#/post/'+d.id).text(d.title)
			//$('<li>').append(a).appendTo($('#articles'))
		}
		
	}
	var photoList=function{
		if(!data.map)return
		data.map()
	}
	
	var fillAll=function(){
	
	}
	var popArray=function(data){
		immageArray=data;
		$(pr)
	}
	var imageArray;	
	$.ajax({url:a.s+'photos/'}).then(popArray);
	var pr=function(){
		//scopo: riportare i titoli dei primi 100 post. 
		//recupero l'elenco dei post
		//una volta caricati i post, richiamo la funzione drawList, 
		//passando implicitamnte come argomento i dati ricevuti		
		$.ajax({url:a.s+'posts'}).then(fillAll) 
		
	}
	
	//il nostro script dovrà entrare in azione solo a caricamento della pagina avvenuta. Per garantirci che sia così, utilizziamo il notro costrutto $(document).ready(), abbreviato

	$(pr) 
	
</script>
